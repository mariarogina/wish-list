{"version":3,"sources":["redux/wishList.js","components/GameList/GameListImage.jsx","components/GameList/GameListItem.jsx","components/GameList/GameList.jsx","components/GameList/index.jsx","components/WishList/WishList.jsx","components/WishList/index.jsx","App.js","reportWebVitals.js","redux/reducer.js","redux/middlewares.js","redux/store.js","index.js"],"names":["moduleName","require","v4","FETCH_GAME_LIST","FETCH_WISH_LIST","FETCH_TOTAL","FETCH_ERROR","ADD_TO_WISH_LIST","REMOVE_GAME_FROM_GAME_LIST","REMOVE_GAME_FROM_WISH_LIST","REMOVE_ALL_FROM_GAME_LIST","REMOVE_ALL_FROM_WISH_LIST","SET_TOTAL_PRICE","persistedData","JSON","parse","localStorage","getItem","reducerRecord","gameList","wishList","totalPrice","handleAddNewGame","item","dispatch","getState","oldWishList","length","newWishList","type","payload","handleRemoveGamefromWishList","game","filter","x","id","handleSetTotalPrice","total","reduce","sum","price","stateSelector","state","gameListSelector","createSelector","wishListSelector","totalPriceSelector","GameListImage","useState","imgerror","setImgError","console","log","className","src","alt","onError","cover","GameListItem","handleAdd","handleRemove","itemIsInCart","onDragStart","e","dataTransfer","setData","onDragStartDiv","draggable","name","role","onClick","GameList","handleFetchList","useEffect","useCallback","batch","myItem","findIndex","onDragOver","preventDefault","onDragOverDiv","onDrop","getData","find","onDropDiv","map","connect","a","fetch","response","json","data","formattedData","Object","entries","el","handleRemoveAllGame","WishList","handleFetchWishList","handleRemoveAllWish","handleFetchTotal","handleClear","newList","alert","persistedTotal","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","wishListModule","action","useActionTypes","useActionTypes2","enhancer","applyMiddleware","ReduxThunk","logger","storeApi","next","includes","window","setItem","stringify","store","createStore","reducer","serialisedState","warn","loadFromLocalStorage","composeWithDevTools","subscribe","saveToLocalStorage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9dc1f5b3.chunk.js","sourcesContent":["import { createSelector } from \"reselect\";\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\n\r\nexport const moduleName = \"wishList\";\r\n\r\nexport const FETCH_GAME_LIST = `${moduleName}/FETCH_GAME_LIST`;\r\nexport const FETCH_WISH_LIST = `${moduleName}/FETCH_WISH_LIST`;\r\nexport const FETCH_TOTAL = `${moduleName}/FETCH_TOTAL`;\r\nexport const FETCH_ERROR = `${moduleName}/FETCH_GAME_ERROR`;\r\nexport const ADD_TO_WISH_LIST = `${moduleName}/ADD_TO_WISH_LIST`;\r\nexport const REMOVE_GAME_FROM_GAME_LIST = `${moduleName}/REMOVE_GAME_FROM_GAME_LIST`;\r\nexport const REMOVE_GAME_FROM_WISH_LIST = `${moduleName}/REMOVE_GAME_FROM_WISH_LIST`;\r\nexport const REMOVE_ALL_FROM_GAME_LIST = `${moduleName}/REMOVE_ALL_FROM_GAME_LIST`;\r\nexport const REMOVE_ALL_FROM_WISH_LIST = `${moduleName}/REMOVE_ALL_FROM_WISH_LIST`;\r\nexport const SET_TOTAL_PRICE = `${moduleName}/SET_TOTAL_PRICE`;\r\n\r\nconst persistedData = JSON.parse(localStorage.getItem(\"wishList\"));\r\n\r\nexport const reducerRecord = {\r\n  gameList: [],\r\n  wishList: [],\r\n  totalPrice: 0,\r\n};\r\n\r\n//Reducer\r\n\r\nexport default function reducer(state = reducerRecord, action) {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case FETCH_GAME_LIST:\r\n      return { ...state, gameList: payload };\r\n    case FETCH_WISH_LIST:\r\n      return { ...state, wishList: payload };\r\n    case REMOVE_GAME_FROM_GAME_LIST:\r\n      return { ...state, gameList: payload };\r\n    case ADD_TO_WISH_LIST:\r\n      return { ...state, wishList: payload };\r\n    case REMOVE_GAME_FROM_WISH_LIST:\r\n      return { ...state, wishList: payload };\r\n    case REMOVE_ALL_FROM_GAME_LIST:\r\n      return { ...state, gameList: [] };\r\n    case REMOVE_ALL_FROM_WISH_LIST:\r\n      return { ...state, wishList: [], totalPrice: 0 };\r\n    case SET_TOTAL_PRICE:\r\n      return { ...state, totalPrice: payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n//Action Creators\r\n\r\nexport const handleFetchList = () => async (dispatch) => {\r\n  try {\r\n    let response, data;\r\n    response = await fetch(\r\n      \"https://gist.githubusercontent.com/Greyewi/e6cfa49e478387a7b878e4430e1f4223/raw/d045a5c2c977cf05d05ae1a4625762e69cc891c8/game_list.json\"\r\n    );\r\n    data = await response.json();\r\n    const formattedData = Object.entries(data).map((el) => {\r\n      el[1].id = el[0];\r\n      return el[1];\r\n    });\r\n    await dispatch({\r\n      type: FETCH_GAME_LIST,\r\n      payload: formattedData,\r\n    });\r\n  } catch (error) {\r\n    await dispatch({\r\n      type: FETCH_ERROR,\r\n      payload: error,\r\n    });\r\n  }\r\n};\r\n\r\nexport const handleFetchWishList = () => async (dispatch) => {\r\n  try {\r\n    const persistedData = JSON.parse(localStorage.getItem(\"wishList\"));\r\n    let data;\r\n    if (persistedData && persistedData.length) {\r\n      data = JSON.parse(localStorage.getItem(\"wishList\"));\r\n    } else {\r\n      data = [];\r\n    }\r\n    await dispatch({\r\n      type: FETCH_WISH_LIST,\r\n      payload: data,\r\n    });\r\n\r\n    const total = data.reduce((sum, item) => sum + (item.price || 0), 0);\r\n    dispatch({\r\n      type: SET_TOTAL_PRICE,\r\n      payload: total,\r\n    });\r\n  } catch (error) {\r\n    await dispatch({\r\n      type: FETCH_ERROR,\r\n      payload: error,\r\n    });\r\n  }\r\n};\r\n\r\nexport const handleFetchTotal = () => async (dispatch) => {\r\n  try {\r\n    const persistedTotal = JSON.parse(localStorage.getItem(\"priceTotal\"));\r\n    let data;\r\n    if (persistedTotal && persistedTotal.length) {\r\n      data = JSON.parse(localStorage.getItem(\"priceTotal\"));\r\n    } else {\r\n      data = 0;\r\n    }\r\n    await dispatch({\r\n      type: FETCH_TOTAL,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    await dispatch({\r\n      type: FETCH_ERROR,\r\n      payload: error,\r\n    });\r\n  }\r\n};\r\n\r\nexport const handleAddNewGame = (item) => (dispatch, getState) => {\r\n  let oldWishList;\r\n  if (persistedData && persistedData.length) {\r\n    oldWishList = JSON.parse(localStorage.getItem(\"wishList\"));\r\n  } else {\r\n    oldWishList = getState().wishList.wishList;\r\n  }\r\n  const newWishList = [...oldWishList, { ...item }];\r\n  dispatch({ type: ADD_TO_WISH_LIST, payload: newWishList });\r\n};\r\n\r\nexport const handleRemoveGamefromGameList = (game) => (dispatch, getState) => {\r\n  const oldGameList = getState().wishList.gameList;\r\n  const newGameList = oldGameList.filter((x) => x.id !== game.id);\r\n  dispatch({\r\n    type: REMOVE_GAME_FROM_GAME_LIST,\r\n    payload: newGameList,\r\n  });\r\n};\r\n\r\nexport const handleRemoveGamefromWishList = (game) => (dispatch, getState) => {\r\n  let oldWishList;\r\n  if (persistedData && persistedData.length) {\r\n    oldWishList = JSON.parse(localStorage.getItem(\"wishList\"));\r\n  } else {\r\n    oldWishList = getState().wishList.wishList;\r\n  }\r\n\r\n  const newWishList = oldWishList.filter((x) => x?.id !== game?.id);\r\n  dispatch({\r\n    type: REMOVE_GAME_FROM_WISH_LIST,\r\n    payload: newWishList,\r\n  });\r\n};\r\nexport const handleRemoveAllGame = () => ({\r\n  type: REMOVE_ALL_FROM_GAME_LIST,\r\n});\r\nexport const handleRemoveAllWish = () => ({\r\n  type: REMOVE_ALL_FROM_WISH_LIST,\r\n});\r\n\r\nexport const handleSetTotalPrice = () => (dispatch, getState) => {\r\n  const wishList = getState().wishList.wishList;\r\n\r\n  const total = wishList.reduce((sum, item) => sum + (item.price || 0), 0);\r\n\r\n  dispatch({\r\n    type: SET_TOTAL_PRICE,\r\n    payload: total,\r\n  });\r\n};\r\n\r\n//Selectors (gameList, wishList)\r\n\r\nexport const stateSelector = (state) => state[moduleName];\r\n\r\nexport const gameListSelector = createSelector(\r\n  stateSelector,\r\n  (state) => state.gameList\r\n);\r\n\r\nexport const wishListSelector = createSelector(\r\n  stateSelector,\r\n  (state) => state.wishList\r\n);\r\n\r\nexport const totalPriceSelector = createSelector(\r\n  stateSelector,\r\n  (state) => state.totalPrice\r\n);\r\n","import React, { useState } from \"react\";\r\n\r\nconst GameListImage = ({ item }) => {\r\n  const [imgerror, setImgError] = useState(false);\r\n  const handleError = () => {\r\n    setImgError(true);\r\n    console.log(\"OnErrorEvent Presence1\", imgerror);\r\n  };\r\n  console.log(\"OnErrorEvent Presence2\", imgerror);\r\n  return (\r\n    <div className=\"imgContainer\">\r\n      {!imgerror ? (\r\n        <img\r\n          onError={handleError}\r\n          className=\"gameImg\"\r\n          src={item.cover}\r\n          alt=\"gameImg\"\r\n        />\r\n      ) : (\r\n        <img\r\n          className=\"gameImg\"\r\n          src=\"https://www.cubexled.com/assets/img/no_image.jpg\"\r\n          alt=\"gameImg\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameListImage;\r\n","import React from \"react\";\r\nimport GameListImage from \"./GameListImage\";\r\n\r\nconst GameListItem = ({ item, handleAdd, handleRemove, itemIsInCart }) => {\r\n  const onDragStartDiv = (e, id) => {\r\n    e.dataTransfer.setData(\"id\", id);\r\n  };\r\n  return (\r\n    <li\r\n      key={item.id}\r\n      className=\"gameItem\"\r\n      onDragStart={(e) => onDragStartDiv(e, item.id, item)}\r\n      draggable\r\n    >\r\n      <GameListImage item={item} />\r\n\r\n      <p className=\"itemName\">{item?.name}</p>\r\n      {item.price ? (\r\n        <h2 className=\"price\">{item.price} RUR</h2>\r\n      ) : (\r\n        <h2 className=\"price\">FREE</h2>\r\n      )}\r\n      {itemIsInCart(item) ? (\r\n        <button\r\n          role=\"button\"\r\n          className=\"itemButton itemDeleteButton\"\r\n          onClick={() => handleRemove(item)}\r\n        >\r\n          In wishlist\r\n        </button>\r\n      ) : (\r\n        <button\r\n          className=\"itemButton itemAddButton\"\r\n          role=\"button\"\r\n          onClick={() => handleAdd(item)}\r\n        >\r\n          Add\r\n        </button>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default GameListItem;\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport { batch } from \"react-redux\";\r\n\r\nimport GameListItem from \"./GameListItem\";\r\n\r\nconst GameList = ({\r\n  handleFetchList,\r\n  gameList,\r\n  handleAddNewGame,\r\n  handleSetTotalPrice,\r\n  handleRemoveGamefromWishList,\r\n  wishList,\r\n}) => {\r\n  useEffect(() => {\r\n    handleFetchList();\r\n  }, [handleFetchList]);\r\n\r\n  const handleAdd = useCallback(\r\n    (item) => {\r\n      batch(() => {\r\n        handleAddNewGame(item);\r\n        handleSetTotalPrice();\r\n      });\r\n    },\r\n    [handleAddNewGame, handleSetTotalPrice]\r\n  );\r\n  const handleRemove = useCallback(\r\n    (item) => {\r\n      handleRemoveGamefromWishList(item);\r\n      handleSetTotalPrice();\r\n    },\r\n    [handleRemoveGamefromWishList, handleSetTotalPrice]\r\n  );\r\n\r\n  const itemIsInCart = (myItem) => {\r\n    return wishList.findIndex((item) => item.id === myItem.id) !== -1;\r\n  };\r\n\r\n  const onDragOverDiv = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const onDropDiv = (e) => {\r\n    let id = e.dataTransfer.getData(\"id\");\r\n    let item = wishList.find((item) => item.id === id);\r\n    handleRemove(item);\r\n    handleSetTotalPrice();\r\n  };\r\n  return (\r\n    <div\r\n      className=\"mainGameWrap droppable\"\r\n      onDragOver={(e) => onDragOverDiv(e)}\r\n      onDrop={(e) => onDropDiv(e)}\r\n    >\r\n      <div className=\"gameContainer\">\r\n        <h2>Wish List App</h2>\r\n        <ul className=\"gameList\">\r\n          {gameList &&\r\n            gameList.map((item) => (\r\n              <GameListItem\r\n                key={item.id}\r\n                item={item}\r\n                handleAdd={handleAdd}\r\n                handleRemove={handleRemove}\r\n                itemIsInCart={itemIsInCart}\r\n              />\r\n            ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameList;\r\n","import { connect } from \"react-redux\";\r\nimport {\r\n  gameListSelector,\r\n  wishListSelector,\r\n  handleFetchList,\r\n  handleAddNewGame,\r\n  handleSetTotalPrice,\r\n  handleRemoveGamefromWishList,\r\n  handleRemoveAllGame,\r\n} from \"../../redux/wishList\";\r\nimport GameList from \"./GameList\";\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    gameList: gameListSelector(state),\r\n    wishList: wishListSelector(state),\r\n  }),\r\n  {\r\n    handleFetchList,\r\n    handleRemoveAllGame,\r\n    handleAddNewGame,\r\n    handleSetTotalPrice,\r\n    handleRemoveGamefromWishList,\r\n  }\r\n)(GameList);\r\n","import React, { useCallback, useEffect } from \"react\";\r\n\r\nconst WishList = ({\r\n  handleFetchWishList,\r\n  handleRemoveGamefromWishList,\r\n  handleSetTotalPrice,\r\n  handleRemoveAllWish,\r\n  handleFetchTotal,\r\n  handleAddNewGame,\r\n  wishList,\r\n  gameList,\r\n  totalPrice,\r\n}) => {\r\n  useEffect(() => {\r\n    handleFetchWishList();\r\n    handleFetchTotal();\r\n  }, [handleFetchWishList, handleFetchTotal]);\r\n\r\n  const handleRemove = useCallback(\r\n    (item) => {\r\n      handleRemoveGamefromWishList(item);\r\n      handleSetTotalPrice();\r\n    },\r\n    [handleRemoveGamefromWishList, handleSetTotalPrice]\r\n  );\r\n\r\n  const handleClear = useCallback(() => {\r\n    handleRemoveAllWish();\r\n  }, [handleRemoveAllWish]);\r\n\r\n  const onDragOverDiv = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const onDropDiv = (e) => {\r\n    let id = e.dataTransfer.getData(\"id\");\r\n    if (wishList.findIndex((item) => item.id === id) == -1) {\r\n      let newList = gameList.filter((item) => item.id === id);\r\n      handleAddNewGame(newList[0]);\r\n      handleSetTotalPrice();\r\n    } else {\r\n      alert(\"This game is already in the list\");\r\n    }\r\n  };\r\n\r\n  const onDragStartDiv = (e, id, name) => {\r\n    e.dataTransfer.setData(\"id\", id);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"mainWishWrap droppable\"\r\n      onDragOver={(e) => onDragOverDiv(e)}\r\n      onDrop={(e) => onDropDiv(e)}\r\n    >\r\n      <div className=\"wishContainer\">\r\n        <ul className=\"wishList\">\r\n          {wishList &&\r\n            wishList.map((item) => (\r\n              <li\r\n                key={item.id}\r\n                className=\"wishItem\"\r\n                onDragStart={(e) => onDragStartDiv(e, item.id, item?.name)}\r\n                draggable\r\n              >\r\n                <button\r\n                  className=\"closeButtonWish wishClearButton\"\r\n                  onClick={() => {\r\n                    handleRemove(item);\r\n                  }}\r\n                >\r\n                  X\r\n                </button>\r\n                <p>{item?.name}</p>\r\n              </li>\r\n            ))}\r\n        </ul>\r\n        <h1>\r\n          Total: <span className=\"total-price\">{totalPrice} RUR</span>\r\n        </h1>\r\n        {wishList.length > 0 && (\r\n          <div className=\"clearButtonWrap\">\r\n            <button\r\n              onClick={() => handleClear()}\r\n              className=\"itemButton wishClearButton\"\r\n            >\r\n              Clear\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WishList;\r\n","import { connect } from \"react-redux\";\r\nimport {\r\n  wishListSelector,\r\n  handleRemoveAllWish,\r\n  handleRemoveGamefromWishList,\r\n  handleFetchWishList,\r\n  gameListSelector,\r\n  totalPriceSelector,\r\n  handleSetTotalPrice,\r\n  handleFetchTotal,\r\n  handleAddNewGame,\r\n} from \"../../redux/wishList\";\r\nimport WishList from \"./WishList\";\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    wishList: wishListSelector(state),\r\n    gameList: gameListSelector(state),\r\n    totalPrice: totalPriceSelector(state),\r\n  }),\r\n  {\r\n    handleRemoveAllWish,\r\n    handleRemoveGamefromWishList,\r\n    handleFetchWishList,\r\n    handleSetTotalPrice,\r\n    handleFetchTotal,\r\n    handleAddNewGame,\r\n  }\r\n)(WishList);\r\n","import \"./App.css\";\nimport GameList from \"./components/GameList\";\nimport WishList from \"./components/WishList\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <GameList />\n      <WishList />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\r\nimport wishListReducer, { moduleName as wishListModule } from \"./wishList\";\r\n\r\nexport default combineReducers({ [wishListModule]: wishListReducer });\r\n","import {\r\n  ADD_TO_WISH_LIST,\r\n  REMOVE_ALL_FROM_WISH_LIST,\r\n  REMOVE_GAME_FROM_WISH_LIST,\r\n  SET_TOTAL_PRICE,\r\n} from \"./wishList\";\r\n\r\nconst useActionTypes = [\r\n  ADD_TO_WISH_LIST,\r\n  REMOVE_ALL_FROM_WISH_LIST,\r\n  REMOVE_GAME_FROM_WISH_LIST,\r\n];\r\n\r\nconst useActionTypes2 = [SET_TOTAL_PRICE];\r\n\r\nexport const persistMiddleware = (storeApi) => (next) => (action) => {\r\n  if (useActionTypes.includes(action.type)) {\r\n    window.localStorage.setItem(\r\n      \"wishList\",\r\n      JSON.stringify(action.payload || [])\r\n    );\r\n  } else if (useActionTypes2.includes(action.type)) {\r\n    window.localStorage.setItem(\r\n      \"priceTotal\",\r\n      JSON.stringify(action.payload || 0)\r\n    );\r\n  }\r\n\r\n  return next(action);\r\n};\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport ReduxThunk from \"redux-thunk\";\r\nimport logger from \"redux-logger\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport reducer from \"./reducer\";\r\nimport { persistMiddleware } from \"./middlewares\";\r\n\r\nconst enhancer = applyMiddleware(ReduxThunk, logger, persistMiddleware);\r\n\r\n//save to localStorage\r\nfunction saveToLocalStorage(state) {\r\n  try {\r\n    const serialisedState = JSON.stringify(state);\r\n    localStorage.setItem(\"persistantState\", serialisedState);\r\n  } catch (e) {\r\n    console.warn(e);\r\n  }\r\n}\r\n\r\n// load string from localStarage\r\nfunction loadFromLocalStorage() {\r\n  try {\r\n    const serialisedState = localStorage.getItem(\"persistantState\");\r\n    if (serialisedState === null) return undefined;\r\n    return JSON.parse(serialisedState);\r\n  } catch (e) {\r\n    console.warn(e);\r\n    return undefined;\r\n  }\r\n}\r\n\r\n// create our store\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  loadFromLocalStorage(),\r\n  composeWithDevTools(enhancer)\r\n);\r\n\r\n// listen for store changes\r\nstore.subscribe(() => saveToLocalStorage(store.getState()));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}